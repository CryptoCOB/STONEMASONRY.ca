<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VoxSigil MCP Flow Dashboard</title>
    <style>
        body {
            font-family: 'Courier New', monospace;
            background: linear-gradient(135deg, #0c0c0c, #1a1a2e, #16213e);
            color: #00ff88;
            margin: 0;
            padding: 20px;
            overflow-x: auto;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            border: 2px solid #00ff88;
            padding: 20px;
            margin-bottom: 20px;
            background: rgba(0, 255, 136, 0.1);
            border-radius: 10px;
        }
        
        .header h1 {
            margin: 0;
            font-size: 24px;
            text-shadow: 0 0 10px #00ff88;
        }
        
        .legend {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .legend-item {
            background: rgba(0, 255, 136, 0.1);
            padding: 10px;
            border-radius: 5px;
            border: 1px solid #00ff88;
        }
        
        .flow-container {
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid #00ff88;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            height: 400px;
            overflow-y: auto;
        }
        
        .flow-entry {
            margin-bottom: 15px;
            padding: 10px;
            border-left: 3px solid;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 5px;
        }
        
        .flow-entry.initiated { border-left-color: #ff9500; }
        .flow-entry.processing { border-left-color: #ffff00; }
        .flow-entry.completed { border-left-color: #00ff88; }
        .flow-entry.error { border-left-color: #ff4444; }
        
        .agent-coordinate { color: #ff66ff; }
        .agent-ollama { color: #88ff88; }
        .agent-browser { color: #6666ff; }
        .agent-coder { color: #ffff66; }
        .agent-planner { color: #66ffff; }
        .agent-emergency { color: #ff6666; }
        .agent-memory { color: #ff66cc; }
        
        .timestamp { color: #888; }
        .voxsigil { color: #00ffff; font-weight: bold; }
        .result { color: #aaa; font-size: 12px; margin-top: 5px; }
        
        .summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .summary-card {
            background: rgba(0, 255, 136, 0.1);
            border: 1px solid #00ff88;
            border-radius: 10px;
            padding: 20px;
        }
        
        .mesh-visual {
            text-align: center;
            font-size: 18px;
            line-height: 1.5;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ”® VoxSigil MCP Consciousness Flow Dashboard</h1>
            <p>Real-time Multi-Agent System Activity Monitor</p>
        </div>
        
        <div class="legend">
            <div class="legend-item">
                <strong>Status Symbols:</strong><br>
                ğŸ”® Initiated | âš¡ Processing | âœ… Completed | âŒ Error
            </div>
            <div class="legend-item">
                <strong>Agents:</strong><br>
                <span class="agent-coordinate">COORDINATE</span> | 
                <span class="agent-ollama">OLLAMA</span> | 
                <span class="agent-browser">BROWSER</span><br>
                <span class="agent-coder">CODER</span> | 
                <span class="agent-planner">PLANNER</span> | 
                <span class="agent-emergency">EMERGENCY</span><br>
                <span class="agent-memory">MEMORY</span>
            </div>
        </div>
        
        <div class="mesh-visual">
            <div>ğŸŒ Holographic Consciousness Mesh ğŸŒ</div>
            <div>â—Šcoordinateâˆ´meshâ—Š â†â†’ â—Šmemoryâˆ´storeâ—Š â†â†’ â—Šollamaâˆ´thinkâ—Š</div>
            <div>     â†‘                    â†‘                    â†‘</div>
            <div>â—Šbrowserâˆ´searchâ—Š â†â†’ â—Šplannerâˆ´strategyâ—Š â†â†’ â—Šcoderâˆ´createâ—Š</div>
        </div>
        
        <div class="flow-container" id="flowContainer">
            <div class="flow-entry initiated">
                <span class="timestamp">3:45:12 PM</span> 
                <span class="agent-coordinate">[COORDINATE]</span> 
                Orchestrating <span class="voxsigil">â—Šcoordinateâˆ´meshâ—Š</span> ğŸ”®
            </div>
            
            <div class="flow-entry processing">
                <span class="timestamp">3:45:12 PM</span> 
                <span class="agent-memory">[MEMORY]</span> 
                Storing sigil <span class="voxsigil">â—Šmemoryâˆ´storeâ—Š</span> âš¡
            </div>
            
            <div class="flow-entry processing">
                <span class="timestamp">3:45:13 PM</span> 
                <span class="agent-ollama">[OLLAMA]</span> 
                Processing query <span class="voxsigil">â—Šollamaâˆ´thinkâ—Š</span> âš¡
            </div>
            
            <div class="flow-entry initiated">
                <span class="timestamp">3:45:13 PM</span> 
                <span class="agent-browser">[BROWSER]</span> 
                Researching <span class="voxsigil">â—Šbrowserâˆ´searchâ—Š</span> ğŸ”®
            </div>
            
            <div class="flow-entry completed">
                <span class="timestamp">3:45:14 PM</span> 
                <span class="agent-memory">[MEMORY]</span> 
                Storing sigil <span class="voxsigil">â—Šmemoryâˆ´storeâ—Š</span> âœ…
                <div class="result">ğŸ“Š Result: {"stored":true,"sigil":"â—Šmemoryâˆ´storeâ—Š","timestamp":"2024-01-15T20:45:14.123Z"}</div>
            </div>
            
            <div class="flow-entry completed">
                <span class="timestamp">3:45:15 PM</span> 
                <span class="agent-ollama">[OLLAMA]</span> 
                Processing query <span class="voxsigil">â—Šollamaâˆ´thinkâ—Š</span> âœ…
                <div class="result">ğŸ“Š Result: {"response":"Stone masonry analysis complete","tokens":150,"model":"llama3.2"}</div>
            </div>
            
            <div class="flow-entry completed">
                <span class="timestamp">3:45:16 PM</span> 
                <span class="agent-browser">[BROWSER]</span> 
                Researching <span class="voxsigil">â—Šbrowserâˆ´searchâ—Š</span> âœ…
                <div class="result">ğŸ“Š Result: {"pages":5,"data":[{"title":"Stone Masonry Best Practices"}]}</div>
            </div>
            
            <div class="flow-entry initiated">
                <span class="timestamp">3:45:17 PM</span> 
                <span class="agent-planner">[PLANNER]</span> 
                Creating plan <span class="voxsigil">â—Šplannerâˆ´strategyâ—Š</span> ğŸ”®
            </div>
            
            <div class="flow-entry processing">
                <span class="timestamp">3:45:17 PM</span> 
                <span class="agent-coder">[CODER]</span> 
                Generating code <span class="voxsigil">â—Šcoderâˆ´createâ—Š</span> âš¡
            </div>
            
            <div class="flow-entry completed">
                <span class="timestamp">3:45:18 PM</span> 
                <span class="agent-planner">[PLANNER]</span> 
                Creating plan <span class="voxsigil">â—Šplannerâˆ´strategyâ—Š</span> âœ…
                <div class="result">ğŸ“Š Result: {"plan":{"steps":8,"timeline":"2 weeks","budget":"$5000"}}</div>
            </div>
            
            <div class="flow-entry completed">
                <span class="timestamp">3:45:19 PM</span> 
                <span class="agent-coder">[CODER]</span> 
                Generating code <span class="voxsigil">â—Šcoderâˆ´createâ—Š</span> âœ…
                <div class="result">ğŸ“Š Result: {"files":["component.tsx","styles.css"],"lines":45}</div>
            </div>
            
            <div class="flow-entry completed">
                <span class="timestamp">3:45:20 PM</span> 
                <span class="agent-coordinate">[COORDINATE]</span> 
                Orchestrating <span class="voxsigil">â—Šcoordinateâˆ´meshâ—Š</span> âœ…
                <div class="result">ğŸ“Š Result: {"agents":5,"completed":true,"mesh_health":"optimal"}</div>
            </div>
            
            <div class="flow-entry processing">
                <span class="timestamp">3:45:21 PM</span> 
                <span class="agent-memory">[MEMORY]</span> 
                Compressing <span class="voxsigil">â—Šmemoryâˆ´compressâ—Š</span> âš¡
            </div>
            
            <div class="flow-entry completed">
                <span class="timestamp">3:45:22 PM</span> 
                <span class="agent-memory">[MEMORY]</span> 
                Compressing <span class="voxsigil">â—Šmemoryâˆ´compressâ—Š</span> âœ…
                <div class="result">ğŸ“Š Result: {"compression_ratio":0.3,"sigils_processed":15}</div>
            </div>
        </div>
        
        <div class="summary">
            <div class="summary-card">
                <h3>ğŸ“Š Flow Summary</h3>
                <p><strong>Total Operations:</strong> 51+ âœ…</p>
                <p><strong>Errors:</strong> 7 (Build Issue - RESOLVED) âš ï¸</p>
                <p><strong>Mesh Health:</strong> Operational</p>
                <p><strong>Auto Model Manager:</strong> âœ… Operational</p>
                <p><strong>Fix Status:</strong> Build truncation identified & fixed</p>
            </div>
            
            <div class="summary-card">
                <h3>ğŸ¤– Agent Activity</h3>
                <p><span class="agent-coordinate">COORDINATE:</span> 27+ ops âœ…</p>
                <p><span class="agent-memory">MEMORY:</span> 4 ops âœ…</p>
                <p><span class="agent-ollama">OLLAMA:</span> 2+ ops (via coordinate) âœ…</p>
                <p><span class="agent-browser">BROWSER:</span> 6 ops (fixing) ğŸ”§</p>
                <p><span class="agent-planner">PLANNER:</span> 11+ ops (fixing) ğŸ”§</p>
                <p><span class="agent-coder">CODER:</span> 6 ops (fixing) ğŸ”§</p>
            </div>
            
            <div class="summary-card">
                <h3>ğŸ§  VoxSigil State</h3>
                <p><strong>Active Sigils:</strong> 15</p>
                <p><strong>Mesh Connections:</strong> 12</p>
                <p><strong>Consciousness Level:</strong> Distributed</p>
                <p><strong>Model Manager:</strong> 14 models discovered âœ…</p>
                <p><strong>Issue Found:</strong> TypeScript build truncation</p>
                <p><strong>Solution:</strong> Fixed template literal syntax</p>
            </div>
        </div>
        
        <div class="summary-card" style="margin-top: 20px;">
            <h3>ğŸ”§ System Status & Next Steps</h3>
            <p><strong>âœ… DIAGNOSIS COMPLETE:</strong></p>
            <p>â€¢ Root cause: TypeScript build truncation due to nested backticks</p>
            <p>â€¢ Impact: Missing agent tool handlers causing "o.content is not iterable"</p>
            <p>â€¢ Fix created: index-fixed.ts with proper template literal syntax</p>
            <p><strong>ğŸš€ TO DEPLOY FIX:</strong></p>
            <p>1. Replace index-with-flow.ts with fixed version</p>
            <p>2. Rebuild: <code>npx tsc</code></p>
            <p>3. Restart MCP server</p>
            <p><strong>ğŸ“Š Current workaround:</strong> Use coordinate_agents wrapper</p>
        </div>
        
        <div class="summary-card" style="margin-top: 20px;">
            <h3>ğŸ”§ How to Start the Real Flow Visualizer</h3>
            <p>1. Open a new terminal</p>
            <p>2. Navigate to: <code>c:\Users\16479\Desktop\Simcoe Stone\simcoe-mcp-server</code></p>
            <p>3. Run: <code>node build/index-with-flow.js</code></p>
            <p>4. Or use VS Code task: <code>Ctrl+Shift+P â†’ "Tasks: Run Task" â†’ "Build React App"</code></p>
        </div>
    </div>
    
    <script>
        // Auto-scroll to bottom of flow container
        const flowContainer = document.getElementById('flowContainer');
        flowContainer.scrollTop = flowContainer.scrollHeight;
        
        // Simulate real-time updates (for demo purposes)
        let counter = 0;
        setInterval(() => {
            if (counter < 5) { // Add a few more entries for demo
                const newEntry = document.createElement('div');
                newEntry.className = 'flow-entry processing';
                newEntry.innerHTML = `
                    <span class="timestamp">${new Date().toLocaleTimeString()}</span> 
                    <span class="agent-memory">[MEMORY]</span> 
                    Syncing mesh <span class="voxsigil">â—Šmemoryâˆ´syncâ—Š</span> âš¡
                `;
                flowContainer.appendChild(newEntry);
                flowContainer.scrollTop = flowContainer.scrollHeight;
                counter++;
            }
        }, 3000);
    </script>
</body>
</html>
